<!DOCTYPE html>
<html lang="ru" dir="ltr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üé¨ –ö–∏–Ω–æ–ø–æ—Ä—Ç–∞–ª - –û—Ç–∫—Ä–æ–π—Ç–µ –º–∏—Ä –∫–∏–Ω–æ</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üé¨</text></svg>">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
</head>

<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <span class="logo-icon">üé¨</span>
                <span class="logo-text">–ö–ò–ù–û–ü–û–†–¢–ê–õ</span>
            </div>
            <div class="nav-controls">
                <div class="language-switcher">
                    <button class="lang-btn active" data-lang="ru" title="–†—É—Å—Å–∫–∏–π">RU</button>
                    <button class="lang-btn" data-lang="ar" title="ÿßŸÑÿπÿ±ÿ®Ÿäÿ©">SA</button>
                </div>
                <button class="theme-toggle" id="themeToggle" title="–°–º–µ–Ω–∏—Ç—å —Ç–µ–º—É">
                    <span class="theme-icon">üåô</span>
                </button>
            </div>
        </div>
    </nav>

    <section class="hero-section">
        <div class="hero-overlay"></div>
        <div class="hero-content">
            <h1 class="hero-title" data-i18n="heroTitle">–û—Ç–∫—Ä–æ–π—Ç–µ –º–∏—Ä –∫–∏–Ω–æ</h1>
            <p class="hero-subtitle" data-i18n="heroSubtitle">–¢—ã—Å—è—á–∏ —Ñ–∏–ª—å–º–æ–≤ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ</p>
            <div class="hero-stats">
                <div class="stat-item">
                    <span class="stat-number">üé¨</span>
                    <span class="stat-label" data-i18n="statMovies">–ú–∏–ª–ª–∏–æ–Ω—ã —Ñ–∏–ª—å–º–æ–≤</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">‚≠ê</span>
                    <span class="stat-label" data-i18n="statRating">–í—ã—Å–æ–∫–∏–π —Ä–µ–π—Ç–∏–Ω–≥</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">üåç</span>
                    <span class="stat-label" data-i18n="statWorld">–í–µ—Å—å –º–∏—Ä</span>
                </div>
            </div>
        </div>
        <div class="hero-scroll-indicator" onclick="scrollToSearch()">
            <div class="scroll-arrow">‚Üì</div>
            <span data-i18n="scrollText">–ù–∞—á–Ω–∏—Ç–µ –ø–æ–∏—Å–∫</span>
        </div>
    </section>

    <main class="container">
        <section class="quick-actions">
            <button class="quick-btn" onclick="scrollToSearch()">
                <span>üîç</span>
                <span data-i18n="btnSearch">–ü–æ–∏—Å–∫ —Ñ–∏–ª—å–º–æ–≤</span>
            </button>
            <button class="quick-btn" onclick="loadRandomMovie()">
                <span>üé≤</span>
                <span data-i18n="btnRandom">–°–ª—É—á–∞–π–Ω—ã–π —Ñ–∏–ª—å–º</span>
            </button>
            <button class="quick-btn" onclick="loadTopRated()">
                <span>üèÜ</span>
                <span data-i18n="btnTop">–¢–æ–ø —Ä–µ–π—Ç–∏–Ω–≥</span>
            </button>
        </section>

        <section class="add-movie-section" id="searchSection">
            <div class="search-header">
                <h2 class="section-title">
                    <span class="title-icon">üîç</span>
                    <span data-i18n="searchTitle">–ü–æ–∏—Å–∫ <span>—Ñ–∏–ª—å–º–æ–≤</span></span>
                </h2>
                <p class="section-subtitle" data-i18n="searchSubtitle">
                    –ù–∞–π–¥–∏—Ç–µ –ª—é–±–æ–π —Ñ–∏–ª—å–º –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
                </p>
            </div>

            <div class="search-box-container">
                <input type="text" id="movieSearchInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞..."
                    onkeypress="if(event.key === 'Enter') { if(typeof handleSearch === 'function') handleSearch(); }">
                <button id="movieSearchBtn" onclick="if(typeof handleSearch === 'function') handleSearch();">
                    üîç <span data-i18n="btnSearchText">–ù–∞–π—Ç–∏</span>
                </button>
            </div>

            <div class="search-filters">
                <span class="filter-chip" onclick="showAllMovies()">
                    üé¨ All
                </span>
                <span class="filter-chip" onclick="filterByGenre('Action')">
                    üí• Action
                </span>
                <span class="filter-chip" onclick="filterByGenre('Drama')">
                    üé≠ Drama
                </span>
                <span class="filter-chip" onclick="filterByGenre('Comedy')">
                    üòÇ Comedy
                </span>
                <span class="filter-chip" onclick="filterByGenre('2024')">
                    üìÖ 2024
                </span>
            </div>
        </section>

        <section id="addMovieSection" class="add-custom-section">
        </section>

        <section class="movies-section">
            <div class="section-header">
                <h2 class="section-title">
                    <span class="title-icon">üî•</span>
                    <span data-i18n="popularTitle">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ñ–∏–ª—å–º—ã</span>
                    <span id="movieCount" class="movie-count"></span>
                </h2>
                <div class="view-controls">
                    <button class="view-btn active" onclick="changeView('grid')" title="–°–µ—Ç–∫–∞">
                        <span>‚äû</span>
                    </button>
                    <button class="view-btn" onclick="changeView('list')" title="–°–ø–∏—Å–æ–∫">
                        <span>‚ò∞</span>
                    </button>
                </div>
            </div>

            <div id="moviesGrid" class="movies-grid">
            </div>

            <div id="noResults" class="no-results" style="display: none;">
                <div class="no-results-icon">üé≠</div>
                <h3 data-i18n="noResultsTitle">–§–∏–ª—å–º—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h3>
                <p data-i18n="noResultsText">–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∏—Å–∫–∞</p>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>üé¨ –ö–ò–ù–û–ü–û–†–¢–ê–õ</h3>
                <p data-i18n="footerTagline">–í–∞—à –ø—Ä–æ–≤–æ–¥–Ω–∏–∫ –≤ –º–∏—Ä –∫–∏–Ω–æ</p>
            </div>
            <div class="footer-section">
                <h4 data-i18n="footerTech">–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</h4>
                <p>HTML5 ‚Ä¢ CSS3 ‚Ä¢ JavaScript</p>
                <p>Firebase ‚Ä¢ OMDb API ‚Ä¢ TMDb API</p>
            </div>
        </div>

        <div class="footer-bottom">
            <p>
                <span data-i18n="footerCopyright">¬© 2026 –ö–∏–Ω–æ–ø–æ—Ä—Ç–∞–ª. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</span>
                <br>
                <span
                    style="font-size: 0.85rem; color: var(--text-secondary); opacity: 0.8; letter-spacing: 1px; margin-top: 5px; display: inline-block;">
                    Developed & Designed by <strong style="color: var(--primary-color); font-weight: 700;">Youssef
                        Ehab</strong>
                </span>
            </p>
        </div>
    </footer>

    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

    <script>
        // ============================================
        // Firebase Configuration
        // ============================================
        const firebaseConfig = {
            apiKey: "AIzaSyCt-fBVSNwRjvodObO-ftktPNb9IDV0ScY",
            authDomain: "movie-catalog-2026-6d35e.firebaseapp.com",
            projectId: "movie-catalog-2026-6d35e",
            storageBucket: "movie-catalog-2026-6d35e.firebasestorage.app",
            messagingSenderId: "1080152049108",
            appId: "1:1080152049108:web:1cce59fd6b8fd960840241",
            measurementId: "G-M5KWXX1FCS"
        };

        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        // ÿßŸÑÿ≥ÿ∑ÿ± ÿØŸá ŸáŸäÿ≥ÿ±ÿπ ÿßŸÑŸÖŸàŸÇÿπ ÿ¨ÿØÿßŸã ŸàŸáŸäÿ¥ÿ∫ŸÑŸá ÿ£ŸàŸÅŸÑÿßŸäŸÜ!
        db.enablePersistence()
            .catch(function (err) {
                if (err.code == 'failed-precondition') {
                    console.log("ÿßŸÑÿ™ÿ®ŸàŸäÿ®ÿßÿ™ ÿßŸÑŸÖÿ™ÿπÿØÿØÿ© ŸÖŸÅÿ™Ÿàÿ≠ÿ©ÿå ŸÑÿß ŸäŸÖŸÉŸÜ ÿ™ÿ¥ÿ∫ŸäŸÑ ÿßŸÑÿ£ŸàŸÅŸÑÿßŸäŸÜ.");
                } else if (err.code == 'unimplemented') {
                    console.log("ÿßŸÑŸÖÿ™ÿµŸÅÿ≠ ŸÑÿß ŸäÿØÿπŸÖ ÿßŸÑÿ£ŸàŸÅŸÑÿßŸäŸÜ.");
                }
            });

        console.log('%c‚úÖ Firebase –ø–æ–¥–∫–ª—é—á—ë–Ω!', 'color: #4CAF50; font-size: 16px; font-weight: bold;');

        // ============================================
        // Helper Functions (ÿßŸÑŸàÿ∏ÿßÿ¶ŸÅ ÿßŸÑÿ≠ŸÇŸäŸÇŸäÿ© ŸÑŸÑÿ£ÿ≤ÿ±ÿßÿ±)
        // ============================================
        function scrollToSearch() {
            document.getElementById('searchSection').scrollIntoView({ behavior: 'smooth' });
            setTimeout(() => {
                const searchInput = document.getElementById('movieSearchInput');
                if (searchInput) searchInput.focus();
            }, 500);
        }

        function loadRandomMovie() {
            // ÿßŸÑŸÜÿ≤ŸàŸÑ ŸÑŸÇÿ≥ŸÖ ÿßŸÑŸÉÿ±Ÿàÿ™
            document.getElementById('moviesGrid').scrollIntoView({ behavior: 'smooth' });
            const movieCards = document.querySelectorAll('.movie-card');

            if (movieCards.length > 0) {
                // ÿ•ÿÆŸÅÿßÿ° ŸÉŸÑ ÿßŸÑÿ£ŸÅŸÑÿßŸÖ
                movieCards.forEach(card => {
                    card.style.display = 'none';
                    card.classList.remove('fade-in');
                });

                // ÿ•ÿ∏Ÿáÿßÿ± ŸÅŸäŸÑŸÖ Ÿàÿßÿ≠ÿØ ÿπÿ¥Ÿàÿßÿ¶Ÿä
                const randomIndex = Math.floor(Math.random() * movieCards.length);
                movieCards[randomIndex].style.display = 'flex';

                // ÿ™ÿ∫ŸäŸäÿ± ÿßŸÑÿπŸÜŸàÿßŸÜ
                document.querySelector('.movies-section .section-title span:nth-child(2)').textContent = '–°–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä';
            } else {
                // ŸÑŸà ŸÖŸÅŸäÿ¥ ŸÉÿ±Ÿàÿ™ ŸÑÿ≥Ÿáÿå ŸáŸäÿ¨Ÿäÿ® ÿπÿ¥Ÿàÿßÿ¶Ÿä ÿ®ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿßŸÑÿ®ÿ≠ÿ´
                const titles = ["Inception", "Matrix", "Interstellar", "Joker", "Avatar", "Titanic", "Gladiator"];
                const input = document.getElementById('movieSearchInput');
                if (input) {
                    input.value = titles[Math.floor(Math.random() * titles.length)];
                    if (typeof handleSearch === 'function') handleSearch();
                }
            }
        }

        function loadTopRated() {
            // ÿßŸÑŸÜÿ≤ŸàŸÑ ŸÑŸÇÿ≥ŸÖ ÿßŸÑŸÉÿ±Ÿàÿ™
            document.getElementById('moviesGrid').scrollIntoView({ behavior: 'smooth' });
            const movieCards = document.querySelectorAll('.movie-card');
            let found = false;

            if (movieCards.length > 0) {
                movieCards.forEach(card => {
                    // ÿßŸÑÿ®ÿ≠ÿ´ ÿπŸÜ ÿßŸÑÿ£ÿ±ŸÇÿßŸÖ ŸÅŸä ÿßŸÑŸÉÿßÿ±ÿ™ (ÿßŸÑÿ™ŸÇŸäŸäŸÖ)
                    const text = card.innerText || "";
                    const ratingMatch = text.match(/(\d+\.\d+|\b10\b|\b[8-9]\b)/);

                    if (ratingMatch && parseFloat(ratingMatch[0]) >= 8.0) {
                        card.style.display = 'flex';
                        found = true;
                    } else {
                        card.style.display = 'none';
                    }
                });

                // ÿ™ÿ∫ŸäŸäÿ± ÿßŸÑÿπŸÜŸàÿßŸÜ
                document.querySelector('.movies-section .section-title span:nth-child(2)').textContent = '–¢–æ–ø —Ä–µ–π—Ç–∏–Ω–≥ (8.0+)';

                const noRes = document.getElementById('noResults');
                if (noRes) noRes.style.display = found ? 'none' : 'block';
            } else {
                // ŸÑŸà ŸÖŸÅŸäÿ¥ ŸÉÿ±Ÿàÿ™ ŸÑÿ≥Ÿá
                const tops = ["The Shawshank Redemption", "The Godfather", "The Dark Knight", "Pulp Fiction"];
                const input = document.getElementById('movieSearchInput');
                if (input) {
                    input.value = tops[Math.floor(Math.random() * tops.length)];
                    if (typeof handleSearch === 'function') handleSearch();
                }
            }
        }

        function changeView(viewType) {
            const grid = document.getElementById('moviesGrid');
            document.querySelectorAll('.view-btn').forEach(btn => btn.classList.remove('active'));
            if (event && event.target) {
                const btn = event.target.closest('.view-btn');
                if (btn) btn.classList.add('active');
            }
            grid.style.gridTemplateColumns = viewType === 'list'
                ? '1fr'
                : 'repeat(auto-fill, minmax(300px, 1fr))';
        }
    </script>

    <script src="app.js"></script>
</body>

</html>
